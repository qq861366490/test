<html>
<head>
  <title>js-DOM下</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="648"/>
<h1>js-DOM下</h1>

<div>
<span><div style="text-align: center"><span style="font-size: 32px;">js-DOM下</span></div><div><br/></div><div style="text-align: right"><div style="text-align: right"><span style="font-size: 16px;">作者： 千锋李文浩</span></div></div><div style="text-align: right"><span style="font-size: 16px;">时间：   17/01/17</span></div><div><br/></div><div><br/></div><div><font color="#AD0000" size="4"><b>补讲</b></font></div><div><b><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><br/></span></span></b></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="color: rgb(227, 0, 0);"><b>获取时间戳（重）</b></span></div><div><br/></div><div style="margin-left:40px;">1、创建时间对象（<span style="color: rgb(227, 0, 0);">date.getTime()</span>）(建议使用)</div><div style="margin-left:40px;">     var date = new Date();</div><div style="margin-left:40px;">     var now = date.getTime();</div><div style="margin-left:40px;"><br/></div><div style="margin-left:40px;">2、使用Date静态方法(ie9+)（测试时使用）</div><div style="margin-left:40px;">     var now = Date.now(); </div></div><div><b><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><br/></span></span></b></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>常用的节点属性（回顾）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、元素.innerHTML 获取或者设置元素的内容</div><div>2、表单.value</div><div>3、元素.className 获取或者设置元素的class内容</div><div>4、元素.style.样式名 设置元素的样式</div><div>     div.style.font-size //不行</div><div>     div.style.fontSize  = '14px'; //变成驼峰</div><div>     div.style['font-size'] = '14px'; //使用中括号</div><div>     var str = 'width';</div><div>     div.style[str] = '200px';</div><div>     //arr.0 =&gt; arr[0]   arr[i]</div><div><br/></div><div><br/></div><div>怎么获取元素的样式值？</div><div>     元素.style.样式名  只能获取内嵌样式，不能获取文件中或者head声明的样式</div><div>     </div><div>     元素.currentStyle[样式名]（IE）    window.getComputedStyle(元素)[样式名]</div><div>     </div><div>     div.currentStyle['width'];</div><div>     window.getComputedStyle(div)['width']</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">封装css、show、hide方法（重）</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、封装一个方法css，可以设置和获取元素的样式值</div><div>     1、css(元素,样式名) 代表获取元素的样式值</div><div>         </div><div>           css(btn,'width') 获取btn的宽度</div><div>     </div><div>     2、css(元素,样式名,样式值)  代表更改元素的某个样式值</div><div>              </div><div>           css(btn,'width',200) 改变btn的宽度</div><div>   </div><div>2、封装方法show，用于显示某个元素</div><div>      show(元素)  让元素显示  </div><div> </div><div>3、封装方法hide，用于隐藏某个元素</div><div>      hide(元素)  让元素隐藏</div><div><br/></div><div><br/></div><div><img src="js-DOM下_files/Image.png" type="image/png" style="height: auto;"/><br/></div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">自定义属性（重）</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、什么是自定义属性？</div><div>     用户自己定义的属性（元素本身没有的）</div><div><br/></div><div>2、标签中的自定义属性</div><div>     一般自定义属性使用data-开头</div><div>     &lt;div data-url=&quot;imgs/large.jpg&quot;&gt;&lt;/div&gt;</div><div><br/></div><div>3、js中的自定义属性</div><div>     document.write</div><div>     var person = {</div><div>          name: 'pine'</div><div>     };</div><div><br/></div><div>     div.id   div.className </div><div>     </div><div>     添加自定义属性</div><div>     div.index</div><div><br/></div></div><div><br/></div><div><br/></div><div>懒加载</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、图片的懒加载</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">属性操作（重）</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>0、为什么要进行属性操作？</div><div>     比如页面中往往需要添加很多自定义属性，那么怎么获取他们呢？</div><div><br/></div><div>1、获取元素的属性值</div><div>    </div><div>     如果是元素自带的属性，我们可以通过  元素.属性名(div.className)获取，如果想获取自定义属性呢？     </div><div>     <b><span style="color: rgb(227, 0, 0);">元素.getAttribute(属性名);</span></b>     </div><div><br/></div><div>2、设置元素的属性值</div><div>     <b><span style="color: rgb(227, 0, 0);">元素.setAtrribute(属性名,属性值); (IE7+)</span></b>    </div><div>     </div><div>3、删除元素的某个属性</div><div>     <span style="color: rgb(227, 0, 0);"><b>元素.removeAtrribute(属性名);</b></span></div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><span style="font-size: 16px;"><b>封装attr方法和removeAttr（重）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、封装attr方法，用于获取和设置元素的属性值</div><div><img src="js-DOM下_files/Image [1].png" type="image/png" style="height: auto;"/><br/></div><div>2、封装removeAttr方法，用于删除元素的属性</div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><b>实战</b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>实现图片的切换</div><div><img src="js-DOM下_files/Image [2].png" type="image/png" style="height: auto;"/><br/></div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">节点属性（重）</span></b></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);">1、节点有哪几种？</span></div><div><span style="color: rgb(51, 51, 51);"><br/></span></div><div><span style="color: rgb(51, 51, 51);">     节点可以分为元素节点、属性节点和文本节点</span></div><div><span style="color: rgb(51, 51, 51);"><br/></span></div><div><span style="color: rgb(51, 51, 51);">2、3个非常有用的节点属性（nodeName、 nodeType、 nodeValue ）</span></div><div><span style="color: rgb(51, 51, 51);">     </span></div><div><span style="color: rgb(51, 51, 51);">     nodeName: 节点名称（）</span></div><div><span style="color: rgb(51, 51, 51);"><br/></span></div><div><span style="color: rgb(51, 51, 51);">   </span> <span style="color: rgb(227, 0, 0);"> nodeType: 节点类型（判断节点是元素节点还是文本节点或者属性节点）</span></div><div><span style="color: rgb(227, 0, 0);">          1 代表元素节点   2 代表属性节点 3 代表文本节点</span></div><div><span style="color: rgb(227, 0, 0);">     </span></div><div><span style="color: rgb(227, 0, 0);">          用途：通常用于判断一个节点是不是元素节点</span></div><div><span style="color: rgb(227, 0, 0);"><br/></span></div><div><span style="color: rgb(227, 0, 0);">     </span>nodeValue: 获取节点的文本</div><div><span style="color: rgb(227, 0, 0);"><br/></span></div><div><span style="color: rgb(227, 0, 0);">          和innerHTML的区别：nodeValue只能获取和设置文本，innerHTML可以获取和设置元素的内容</span></div><div><span style="color: rgb(227, 0, 0);"><br/></span></div><div><span style="color: rgb(227, 0, 0);">          &lt;div&gt;&lt;span&gt;这是一段文本&lt;/span&gt;&lt;/div&gt;<br/></span></div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">高级节点属性（重）</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>childNodes 获取当前元素节点的所有元素及文本子节点       </div><div>     --这里面包含空白文本节点，在IE9之前，IE浏览器会自动忽略空白节点</div><div><br/></div><div>children  获取元素的所有子元素节点 不包含空白文本节点</div><div><br/></div><div>firstChild 获取当前元素节点的第一个子节点</div><div>firstElementChild  第一个子元素节点</div><div><br/></div><div>lastChild 获取当前元素节点的最后一个子节点</div><div>lastElementChild  最后一个子元素节点</div><div><br/></div><div>parentNode 获取当前节点的父节点</div><div><br/></div><div>previousSibling 获取当前节点的前一个同级节点 </div><div><br/></div><div>nextSibling 获取当前节点的后一个同级节点 </div><div><br/></div><div>attributes 获取当前元素节点的所有属性节点集合</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><span style="font-size: 16px;"><b>封装方法next、prev（常用方法）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><br/></div></div><div><br/></div><div><br/></div><div><span style="color: rgb(227, 0, 0);"><span style="font-size: 16px;"><b>dom操作（非常重）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>前言：DOM 不单单可以查找节点，也可以创建节点、复制节点、插入节点、删除节点和替换节点</div><div>1、<span style="color: rgb(227, 0, 0);">document.createElement('标签名')</span> //创建一个元素节点   只有document才能创建</div><div>2、document.createTextNode('文本内容')  //创建一个文本节点</div><div>3、<span style="color: rgb(227, 0, 0);">box.appendChild(node)</span>  //把node节点插入到box的内部最后的位置   </div><div>4、<span style="color: rgb(227, 0, 0);">box.insertBefore(node, existNode)</span>  //把node节点插入到box中已经存在的节点前面</div><div>5、<span style="color: rgb(227, 0, 0);">box.removeChild(node)</span>    从元素中移除某个<span style="color: rgb(227, 0, 0);">子元素</span></div><div>6、hasChildNodes()：判定一个节点是否有子节点   </div><div>7、<span style="color: rgb(227, 0, 0);">cloneNode()</span>：复制空标签    cloneNode(true)  复制整个元素</div></div><div><br/></div><div><br/></div><div><b><span style="font-size: 16px;">实战</span></b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、动态表格（学生管理系统-信息录入）</div><div><br/></div><div>2、弹幕</div></div><div><span style="color: rgb(227, 0, 0);"><b><span style="font-size: 16px;">文档碎片</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、js操作dom时发生了什么？</div><div>    每次对dom的操作都会<span style="color: rgb(227, 0, 0);"><b>触发&quot;重排&quot;</b></span>，这严重影响到能耗，一般通常采取的做法是尽可能的减少dom操作来减少&quot;重排&quot;</div><div>         </div><div>2、什么是文档碎片？</div><div>    document.createDocumentFragment()</div><div>    一个容器，用于暂时存放创建的dom元素</div><div>       </div><div>3、文档碎片有什么用？</div><div>    将需要添加的大量元素  先添加到文档碎片  中，再将文档碎片添加到需要插入的位置，大大减少dom操作，<span style="color: rgb(227, 0, 0);"><b>提高性能（IE和火狐比较明显）</b></span></div></div><div><br/></div><div><br/></div><div><b><span style="color: rgb(173, 0, 0);"><span style="font-size: 16px;">offsetWidth和offsetHeight（重）</span></span></b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><br/></div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">offsetLeft和offsetTop（重）</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><br/></div></div><div><br/></div><div><br/></div><div><b><span style="font-size: 16px;">预习</span></b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、Event事件对象是什么？</div><div><br/></div><div>2、事件对象中常用属性</div><div>     e.which e.keyCode</div><div>     e.clientX e.clientY</div><div>     e.pageX e.pageY</div><div>     e.offsetX e.offsetY</div><div>     </div><div>3、键盘事件keyDown keyPress keyUp</div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 