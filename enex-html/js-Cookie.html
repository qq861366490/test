<html>
<head>
  <title>js-Cookie</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="672"/>
<h1>js-Cookie</h1>

<div>
<span><div style="text-align: center"><span style="font-size: 32px;">js-Cookie</span></div><div><br/></div><div style="text-align: right"><div style="text-align: right"><span style="font-size: 16px;">作者： 千锋李文浩</span></div></div><div style="text-align: right"><span style="font-size: 16px;">时间：   17/01/26</span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><span style="font-size: 16px;"><b>通信协议</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>通信协议是指双方实体完成通信或服务所必须遵循的规则和约定</div><div><br/></div><div>比如：地下党和总部采取密文传输    不通地区的人以普通话进行交流</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">TCP</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>传输控制协议,提供的是<span style="color: rgb(173, 0, 0);"><b>面向连接、可靠的字节流服务</b></span>。当客户和服务器彼此交换数据前，必须<span style="color: rgb(173, 0, 0);"><b>先在双方之间建立一个TCP连接</b></span>，之后才能传输数据。TCP提供超时重发，丢弃重复数据，检验数据，流量控制等功能，保证数据能从一端传到另一端。</div><div><br/></div><div>TCP和打电话类似</div><div>     双方说话之前需要一个人拨号  对方接听  然后通话  最后挂掉结束通话</div><div><br/></div><div>建立TCP连接：3次握手</div><div><br/></div><div>典型举例：魔兽世界</div><div>在别人电脑中放个大招把你干掉了，你这边瞬间漂移躲过去了。。。。游戏就没办法玩了</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">UDP</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>用户数据报协议，是一个简单的面向数据报的运输层协议。<span style="color: rgb(227, 0, 0);"><b>UDP不提供可靠性</b></span>，它只是把应用程序传给IP层的数据报发送出去，但是并不能保证它们能到达目的地。由于UDP在传输数据报前不用在客户和服务器之间建立一个连接，且没有超时重发等机制，故而传输速度很快</div><div><br/></div><div>UDP类似写信，信写好了就放进邮箱  至于对方能不能收到不关心</div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>HTTP</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。</div><div><br/></div><div>HTTP是一个客户端和服务器端请求和应答的标准（TCP）</div><div><br/></div><div>弊端：每次请求服务器都会建立3次连接、身份确认，意味着用户每次都要登录，输入用户名和密码</div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>Cookie（重）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、某些网站为了辨别用户身份、进行 session 跟踪而储存在用户本地终端上的数据（通常经过加密）</div><div><br/></div><div>2、也成为会话跟踪技术</div><div><br/></div><div>3、Cookie 在计算机中是个存储在浏览器目录中的文本文件</div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>Cookie来源</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><img src="js-Cookie_files/Image.png" type="image/png"/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>Cookie特点（重）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、大小限制（不能超过4k）</div><div><br/></div><div>2、每个域下cookie不能超过50个</div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b>3、有效期（和设定时间有关），过了有效期cookie会自动删除</b></span></div><div><br/></div><div>4、cookie读取（一般哪个页面写入的哪个页面读取）</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b>Cookie的读取(重)</b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>document.cookie</div><div><br/></div><div>读取的是所有的cookie</div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>Cookie写入（重）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>document.cookie = &quot;cookie名=cookie值&quot;;</div><div><br/></div><div>demo:</div><div>     document.cookie = &quot;username=pine&quot;;</div><div><br/></div><div>带时间的cookie</div><div>    document.cookie = &quot;cookie名=cookie值;expires=存储时间&quot;</div><div><br/></div><div>     存储时间为GMT时间，需要使用toGMTSting()方法转化  dete.toGMTString()</div></div><div><br/></div><div><br/></div><div><b><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);">Cookie删除（重）</span></span></b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>将存储时间设为过去时间即可</div><div><br/></div><div>var date = new Date();</div><div>date.setDate(date.getDate()-1);//将时间设为前一天</div><div>date.setDate(date.gusername=pine+;expires='+date.toGMTString();</div></div><div><br/></div><div><br/></div><div><b><span style="font-size: 16px;">实战</span></b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、一周免登陆</div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>cookie的路径path</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><img src="js-Cookie_files/Image [1].png" type="image/png" style="height:auto;" width="398.14285714285717"/></div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><span style="font-size: 16px;"><b>Cookie的读、写、删除封装（重）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、封装readCookie(cookie名)，根据cookie名得到cookie值</div><div>     demo： 假定cookie为 username=pine; phone=18200000000;</div><div>          readCookie('username'); // 得到pine</div><div><img src="js-Cookie_files/Image [2].png" type="image/png" style="height:auto;" width="297.7142857142857"/></div><div><br/></div><div>2、封装setCookie(cookie名，cookie值，时间期限),写入cookie</div><div>     demo：</div><div>          setCookie('address','河南',365);//将地址存储365天</div><div><img src="js-Cookie_files/Image [3].png" type="image/png" style="height:auto;" width="329"/></div><div><br/></div><div>3、封装deleteCookie(cookie名),删除cookie</div><div><img src="js-Cookie_files/Image [4].png" type="image/png" style="height:auto;" width="224.14285714285714"/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>JSON对象（重）</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、将对象转化为json字符串  JSON.stringify(对象)</div><div>     demo:</div><div>          JSON.stringify( [1,2,3] ); // &quot;[1,2,3]&quot;</div><div>          JSON.stingifyy( {name:pine} ); // &quot;{name:pine}&quot;</div><div><br/></div><div>2、将json字符串转化为json对象  JSON.parse(json字符串);</div><div><br/></div><div>          JSON.parse( &quot;{name:pine}&quot; ); // {name:pine}</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">购物车应用（重）</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>一件商品有哪些信息？</div><div style="margin-left:40px;">商品编号： gid</div><div style="margin-left:40px;">商品名称： gname</div><div style="margin-left:40px;">商品价格: gprice</div><div style="margin-left:40px;">商品数量： gamount</div><div><br/></div><div>购物车存储结构：</div><div><br/></div><div>var cart = {</div><div>    10001:{</div><div>         gid: id,</div><div>         gname: name,</div><div>         gprice: price,</div><div>         gamount: amount</div><div>    },</div><div>    10002:{</div><div>         gid: id,</div><div>         gname: name,</div><div>         gprice: price,</div><div>         gamount: amount</div><div>    }</div><div>}</div></div><div><br/></div><div><br/></div><div><span style="color: rgb(173, 0, 0);"><b><span style="font-size: 16px;">XSS攻击</span></b></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>脚本跨域攻击</div><div><br/></div><div>在别人网站注入js代码，其他用户浏览时自动触发js执行，可以获取其他用户在网站的信息</div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="color: rgb(173, 0, 0);"><b>预习</b></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、什么是正则表达式？</div><div><br/></div><div>2、怎么创建正则表达式？</div><div><br/></div><div>3、正则常用元字符</div><div>     ^ $</div><div>     []</div><div>     \d \w </div><div>     {n} {n,} {n,m}</div><div>     * + ?</div><div>     \s</div><div>     \b</div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 